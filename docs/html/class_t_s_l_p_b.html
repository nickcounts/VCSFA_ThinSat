<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TSLPB V3 Library: TSLPB Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ThinSat Logo - Vertical - KR copy.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TSLPB V3 Library
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">An API for the TSL Payload Board for the ThinSat Program</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_t_s_l_p_b-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TSLPB Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The controller class for the TSL Payload Board. Create an instance of this class to use its member functions for accessing the onboard analog and digital sensors. Methods for communicating with the NSL Mothership are also included.  
 <a href="class_t_s_l_p_b.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_t_s_l_p_b_8h_source.html">TSLPB.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0493e394ca716a3be2146513ea935dc0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_s_l_p_b.html#a0493e394ca716a3be2146513ea935dc0">begin</a> ()</td></tr>
<tr class="memdesc:a0493e394ca716a3be2146513ea935dc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the <a class="el" href="class_t_s_l_p_b.html" title="The controller class for the TSL Payload Board. Create an instance of this class to use its member fu...">TSLPB</a>, starts the I2C bus, and configures the pins needed for reading the <a class="el" href="class_t_s_l_p_b.html" title="The controller class for the TSL Payload Board. Create an instance of this class to use its member fu...">TSLPB</a> analog sensors.  <a href="#a0493e394ca716a3be2146513ea935dc0">More...</a><br /></td></tr>
<tr class="separator:a0493e394ca716a3be2146513ea935dc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeff20b472e8ce6ab973f2613f57de701"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_s_l_p_b.html#aeff20b472e8ce6ab973f2613f57de701">readAnalogSensor</a> (<a class="el" href="_t_s_l_p_b_8h.html#aed766c956d54b42d071c897e009b0cd5">TSLPB_AnalogSensor_t</a> sensorName)</td></tr>
<tr class="memdesc:aeff20b472e8ce6ab973f2613f57de701"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns the raw value from the specified analog sensor.  <a href="#aeff20b472e8ce6ab973f2613f57de701">More...</a><br /></td></tr>
<tr class="separator:aeff20b472e8ce6ab973f2613f57de701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5df4d9c8f0a581679a28ee50216fa8d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_s_l_p_b.html#aa5df4d9c8f0a581679a28ee50216fa8d">readDigitalSensor</a> (<a class="el" href="_t_s_l_p_b_8h.html#ab36f5c148d3f71d107fe33c4c4e8fedc">TSLPB_DigitalSensor_t</a> sensor)</td></tr>
<tr class="memdesc:aa5df4d9c8f0a581679a28ee50216fa8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API returns the process from the specified sensor as a double-precision floating point value in the appropriate units for the sensor.  <a href="#aa5df4d9c8f0a581679a28ee50216fa8d">More...</a><br /></td></tr>
<tr class="separator:aa5df4d9c8f0a581679a28ee50216fa8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14846327e8c0f1a34dc103797c92f3c1"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_s_l_p_b.html#a14846327e8c0f1a34dc103797c92f3c1">readDigitalSensorRaw</a> (<a class="el" href="_t_s_l_p_b_8h.html#ab36f5c148d3f71d107fe33c4c4e8fedc">TSLPB_DigitalSensor_t</a> sensor)</td></tr>
<tr class="memdesc:a14846327e8c0f1a34dc103797c92f3c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API returns the raw value from the specified sensor. Handles endiannes and discarding unused bits.  <a href="#a14846327e8c0f1a34dc103797c92f3c1">More...</a><br /></td></tr>
<tr class="separator:a14846327e8c0f1a34dc103797c92f3c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad12231b1ee3aff9caf10f2e5d855d20d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_s_l_p_b.html#ad12231b1ee3aff9caf10f2e5d855d20d">sleepUntilClearToSend</a> ()</td></tr>
<tr class="separator:ad12231b1ee3aff9caf10f2e5d855d20d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af706483c418d92669a8e62f0f4503626"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_s_l_p_b.html#af706483c418d92669a8e62f0f4503626">isClearToSend</a> ()</td></tr>
<tr class="memdesc:af706483c418d92669a8e62f0f4503626"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns true if the NSL Mothership is ready to receive data over the serial line.  <a href="#af706483c418d92669a8e62f0f4503626">More...</a><br /></td></tr>
<tr class="separator:af706483c418d92669a8e62f0f4503626"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf9024129582c427d4bf5021a98c7a7a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_s_l_p_b.html#aaf9024129582c427d4bf5021a98c7a7a">pushDataToNSL</a> (<a class="el" href="union_thinsat_packet__t.html">ThinsatPacket_t</a> data)</td></tr>
<tr class="memdesc:aaf9024129582c427d4bf5021a98c7a7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sends the user's payload data to NSL Mothership over the serial line. This function expects a <a class="el" href="union_thinsat_packet__t.html" title="A union of the UserDataStruct_t payloadData and a byte array that is used to send the user&#39;s mission ...">ThinsatPacket_t</a> union as an argument. That data type is defined in <a class="el" href="_thin_sat___data_packet_8h.html" title="Defines the custom data structure used to store the user&#39;s payload data, and the union that is used t...">ThinSat_DataPacket.h</a>, and the contents of the user data structure may be customized.  <a href="#aaf9024129582c427d4bf5021a98c7a7a">More...</a><br /></td></tr>
<tr class="separator:aaf9024129582c427d4bf5021a98c7a7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc9bbc0936afa14f847f340f034e6525"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_s_l_p_b.html#afc9bbc0936afa14f847f340f034e6525">read8bitRegister</a> (<a class="el" href="_t_s_l_p_b_8h.html#a5556c875434918f44d0b6f422fd1815a">TSLPB_I2CAddress_t</a> i2cAddress, const uint8_t reg)</td></tr>
<tr class="memdesc:afc9bbc0936afa14f847f340f034e6525"><td class="mdescLeft">&#160;</td><td class="mdescRight">This private method returns the contents of a single I2C register (1 byte)  <a href="#afc9bbc0936afa14f847f340f034e6525">More...</a><br /></td></tr>
<tr class="separator:afc9bbc0936afa14f847f340f034e6525"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The controller class for the TSL Payload Board. Create an instance of this class to use its member functions for accessing the onboard analog and digital sensors. Methods for communicating with the NSL Mothership are also included. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a0493e394ca716a3be2146513ea935dc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0493e394ca716a3be2146513ea935dc0">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TSLPB::begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the <a class="el" href="class_t_s_l_p_b.html" title="The controller class for the TSL Payload Board. Create an instance of this class to use its member fu...">TSLPB</a>, starts the I2C bus, and configures the pins needed for reading the <a class="el" href="class_t_s_l_p_b.html" title="The controller class for the TSL Payload Board. Create an instance of this class to use its member fu...">TSLPB</a> analog sensors. </p>
<p>Call this function in the setup() function as follows: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> setup() {</div><div class="line">    tslpb.begin();</div><div class="line">}</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>This function changes the state of 4 I/O pins: <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">PIN  </th><th class="markdownTableHeadNone">MODE   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TSL_ADC  </td><td class="markdownTableBodyNone">Analog Input   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">TSL_MUX_A  </td><td class="markdownTableBodyNone">Digital Output   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TSL_MUX_B  </td><td class="markdownTableBodyNone">Digital Output   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">TSL_MUX_C  </td><td class="markdownTableBodyNone">Digital Output   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TSL_SERIAL_STATUS_PIN  </td><td class="markdownTableBodyNone">Digital Input   </td></tr>
</table>
</dd></dl>

</div>
</div>
<a id="af706483c418d92669a8e62f0f4503626"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af706483c418d92669a8e62f0f4503626">&#9670;&nbsp;</a></span>isClearToSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TSLPB::isClearToSend </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns true if the NSL Mothership is ready to receive data over the serial line. </p>
<dl class="section return"><dt>Returns</dt><dd>true or false </dd></dl>

</div>
</div>
<a id="aaf9024129582c427d4bf5021a98c7a7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf9024129582c427d4bf5021a98c7a7a">&#9670;&nbsp;</a></span>pushDataToNSL()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TSLPB::pushDataToNSL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="union_thinsat_packet__t.html">ThinsatPacket_t</a>&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sends the user's payload data to NSL Mothership over the serial line. This function expects a <a class="el" href="union_thinsat_packet__t.html" title="A union of the UserDataStruct_t payloadData and a byte array that is used to send the user&#39;s mission ...">ThinsatPacket_t</a> union as an argument. That data type is defined in <a class="el" href="_thin_sat___data_packet_8h.html" title="Defines the custom data structure used to store the user&#39;s payload data, and the union that is used t...">ThinSat_DataPacket.h</a>, and the contents of the user data structure may be customized. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>A <a class="el" href="union_thinsat_packet__t.html" title="A union of the UserDataStruct_t payloadData and a byte array that is used to send the user&#39;s mission ...">ThinsatPacket_t</a> union.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nominal transmission: true or false </dd></dl>

</div>
</div>
<a id="afc9bbc0936afa14f847f340f034e6525"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc9bbc0936afa14f847f340f034e6525">&#9670;&nbsp;</a></span>read8bitRegister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t TSLPB::read8bitRegister </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_s_l_p_b_8h.html#a5556c875434918f44d0b6f422fd1815a">TSLPB_I2CAddress_t</a>&#160;</td>
          <td class="paramname"><em>i2cAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>reg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This private method returns the contents of a single I2C register (1 byte) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cAddress</td><td><a class="el" href="class_t_s_l_p_b.html" title="The controller class for the TSL Payload Board. Create an instance of this class to use its member fu...">TSLPB</a> Digital Sensor Address Enum (a uint8_t I2C address) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reg</td><td>Register (a uint8_t I2C register)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint8_t The contents of register reg at I2C device i2cAddress </dd></dl>

</div>
</div>
<a id="aeff20b472e8ce6ab973f2613f57de701"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeff20b472e8ce6ab973f2613f57de701">&#9670;&nbsp;</a></span>readAnalogSensor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t TSLPB::readAnalogSensor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_s_l_p_b_8h.html#aed766c956d54b42d071c897e009b0cd5">TSLPB_AnalogSensor_t</a>&#160;</td>
          <td class="paramname"><em>sensorName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method returns the raw value from the specified analog sensor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sensorName</td><td>: TSLPB_AnalogSensor_t Sensor Name enum</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a uint8_t containing raw value of the Arduino Pro Mini's ADC. </dd></dl>

</div>
</div>
<a id="aa5df4d9c8f0a581679a28ee50216fa8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5df4d9c8f0a581679a28ee50216fa8d">&#9670;&nbsp;</a></span>readDigitalSensor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double TSLPB::readDigitalSensor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_s_l_p_b_8h.html#ab36f5c148d3f71d107fe33c4c4e8fedc">TSLPB_DigitalSensor_t</a>&#160;</td>
          <td class="paramname"><em>sensorName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API returns the process from the specified sensor as a double-precision floating point value in the appropriate units for the sensor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sensorName</td><td>TSLPB_DigitalSensor_t Sensor Name Selection Enum</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a value in the appropriate units for the sensor as a double precision floating point value. </dd></dl>

</div>
</div>
<a id="a14846327e8c0f1a34dc103797c92f3c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14846327e8c0f1a34dc103797c92f3c1">&#9670;&nbsp;</a></span>readDigitalSensorRaw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t TSLPB::readDigitalSensorRaw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_t_s_l_p_b_8h.html#ab36f5c148d3f71d107fe33c4c4e8fedc">TSLPB_DigitalSensor_t</a>&#160;</td>
          <td class="paramname"><em>sensorName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API returns the raw value from the specified sensor. Handles endiannes and discarding unused bits. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sensorName</td><td>: TSLPB_DigitalSensor_t Sensor Name Enum</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a uint16_t containing the bit pattern from the sensor's register. </dd></dl>
<p>&lt; I2C buffer for read function</p>
<p>&lt; return value, after endian correction </p>

</div>
</div>
<a id="ad12231b1ee3aff9caf10f2e5d855d20d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad12231b1ee3aff9caf10f2e5d855d20d">&#9670;&nbsp;</a></span>sleepUntilClearToSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TSLPB::sleepUntilClearToSend </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_t_s_l_p_b_8h_source.html">TSLPB.h</a></li>
<li><a class="el" href="_t_s_l_p_b_8cpp.html">TSLPB.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
